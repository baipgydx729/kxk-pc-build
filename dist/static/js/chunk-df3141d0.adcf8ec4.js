(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df3141d0"],{1363:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"aux-card"},[s("div",{staticClass:"header",staticStyle:{"padding-bottom":"0","padding-top":"6px"}},[s("div",{staticClass:"left"},[s("el-menu",{staticClass:"el-menu-big no-border",attrs:{"default-active":e.navActive,mode:"horizontal"},on:{select:e.changeTabSelect}},e._l(e.navMenus,(function(t){return s("el-menu-item",{key:t.value,attrs:{index:t.value,disabled:!e.detail.state&&["stock","sign"].includes(t.value)}},[e._v(e._s(t.name))])})),1)],1),s("div",{staticClass:"right"},[!e.detail.state||e.detail.state<2?s("el-button",{attrs:{type:"default",icon:"el-icon-edit"},on:{click:function(t){return e.$common.toPage("../orders-create??type=edit&id="+e.ordersId)}}},[e._v("修改")]):e._e(),2==e.detail.state?s("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["purchase-orders-intostock-cancel"],expression:"['purchase-orders-intostock-cancel']"}],attrs:{type:"default",icon:"el-icon-edit"},on:{click:e.cancelOrders}},[e._v("撤销入库")]):e._e(),s("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["purchase-orders-delete"],expression:"['purchase-orders-delete']"}],attrs:{type:"default",icon:"el-icon-delete"},on:{click:e.deleteOrders}},[e._v("作废")]),e.detail.state?e._e():s("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["purchase-orders-approve"],expression:"['purchase-orders-approve']"}],attrs:{type:"primary",icon:"el-icon-document-checked"},on:{click:e.approvedOrders}},[e._v("审核通过")]),1==e.detail.state&&"stock"!==e.navActive?s("el-button",{attrs:{type:"primary",icon:"el-icon-out"},on:{click:e.handleIntoStockOrders}},[e._v("商品入库")]):e._e(),2==e.detail.state?s("el-button",{attrs:{type:"primary",icon:"el-icon-document-checked"},on:{click:e.completedOrders}},[e._v("标记完成")]):e._e()],1)]),s("div",{staticClass:"margin-top-sm"},[s("div",{staticClass:"dflex-b padding-lr-lg"},[s("div",{staticClass:"padding-tb"},[s("div",{staticClass:"padding-bottom-sm"},[s("span",[e._v("进货单号："+e._s(e.detail.orders_no))]),s("span",{staticClass:"margin-left-lg"},[e._v("销售员："+e._s(e.detail.sales_name||e.detail.create_uname))]),s("span",{staticClass:"margin-left-lg"},[e._v(" 订单状态： "),s("el-tag",{attrs:{size:"small",type:9==e.detail.state?"success":"danger"}},[s("i",{class:9==e.detail.state?"el-icon-check":"el-icon-time"}),e._v(" 订单"+e._s(e._f("formatKeyValue")(e.detail.state,e.$constant.PURCHASE_ORDERS_STATES,"value","next"))+" ")])],1)]),s("div",{staticClass:"padding-bottom-sm"},[s("span",[e._v("供应商："+e._s(e.detail.supplier.name))]),e.detail.supplier.contact?s("span",{staticClass:"margin-left"},[e._v("联系人："+e._s(e.detail.supplier.contact))]):e._e(),e.detail.supplier.telephone?s("span",{staticClass:"margin-left"},[e._v("联系电话："+e._s(e.detail.supplier.telephone))]):e._e()])]),s("div",{staticClass:"tar ft-grey"},[s("div",{staticClass:"padding-bottom-sm"},[s("span",[e._v("开单日期："+e._s(e._f("formatDate")(e.detail.orders_date)))]),s("span",{staticClass:"margin-left-lg"},[e._v("制单人："+e._s(e.detail.create_uname))])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"basic"==e.navActive,expression:"navActive == 'basic'"}]},[s("OrdersGoodsTableView",{ref:"goodsTable",attrs:{data:e.detail.orders_goods}}),s("div",{staticClass:"dflex-b padding padding-tb-lg"},[s("div",{staticClass:"dflex-s"}),s("div",{staticClass:"dflex-e"},[s("span",{staticClass:"padding-left-lg"},[e._v("整单优惠："+e._s(e.detail.ordersDiscountMoney))]),s("span",{staticClass:"padding-left-lg"},[e._v("其他费用："+e._s(e.detail.ordersExtendFee))]),s("span",{staticClass:"padding-left-lg"},[e._v(" 订单金额： "),s("span",{staticClass:"ft-danger"},[e._v(e._s(e.detail.ordersTotalMoney))])])])])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:"settle"==e.navActive,expression:"navActive == 'settle'"}],staticClass:"dflex-b padding padding-tb-lg border-top"},[s("div",{staticClass:"dflex-s"},[s("span",{staticClass:"padding-right"},[e._v("订单金额："+e._s(e.detail.ordersTotalMoney))]),s("span",{staticClass:"padding-right"},[e._v("已付款金额："+e._s(e.detail.settleMoney))]),s("span",{staticClass:"padding-right"},[e._v(" 待付金额： "),s("span",{staticClass:"ft-danger"},[e._v(e._s(e.detail.unsettleMoney))])])]),s("div",{staticClass:"dflex-e"},[s("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["payment-orders-create"],expression:"['payment-orders-create']"}],attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.handleAddSettle}},[e._v("添加付款")])],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:"stock"==e.navActive,expression:"navActive == 'stock'"}]},[s("OrdersGoodsTableView",{ref:"goodsTable",attrs:{data:e.detail.orders_goods}}),1==e.detail.state?s("div",{staticClass:"margin-top"},[s("div",{staticClass:"header"},[e._m(0),s("div",{staticClass:"right dflex-e"},[s("AuxWarehouseSelect",{staticClass:"margin-right-sm",attrs:{label:"入库仓库"},model:{value:e.targetWarehouseId,callback:function(t){e.targetWarehouseId=t},expression:"targetWarehouseId"}}),s("el-button",{attrs:{loading:e.stockIntoLoading,type:"primary",icon:"el-icon-out"},on:{click:e.intoStockOrders}},[e._v("立即入库")])],1)])]):e._e()],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:"basic"==e.navActive,expression:"navActive == 'basic'"}]},[s("el-card",{staticClass:"aux-card margin-top",attrs:{shadow:"none","body-style":{padding:"12px"}}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[e._v("订单备注")])]),s("div",{staticClass:"padding-sm padding-tb-xs"},[e._v(e._s(e.detail.remark))])])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:"stock"==e.navActive&&e.stockOrdersList.length>0,expression:"navActive == 'stock' && stockOrdersList.length > 0"}]},[s("div",{staticClass:"aux-card margin-top"},[e._m(1),e._l(e.stockOrdersList,(function(t,o){return s("div",{key:t._id,staticClass:"border-bottom"},[s("div",{staticClass:"padding"},[s("span",{staticClass:"padding-right-lg"},[e._v("入库单号："+e._s(t.opt_no))]),s("span",{staticClass:"padding-right-lg"},[e._v("入库时间："+e._s(e._f("formatDate")(t.opt_time)))]),s("span",{staticClass:"padding-right-lg"},[e._v("入库仓库："+e._s(t.warehouse_name))]),s("span",{staticClass:"padding-right-lg"},[e._v("操作人员："+e._s(t.create_uname))])]),s("OrdersStockGoodsTable",{ref:"stockGoodsTable",refInFor:!0,attrs:{data:t.orders_goods}})],1)}))],2)]),s("div",{directives:[{name:"show",rawName:"v-show",value:"settle"==e.navActive&&e.settleOrdersList.length>0,expression:"navActive == 'settle' && settleOrdersList.length > 0"}]},[s("div",{staticClass:"aux-card margin-top"},[e._m(2),s("el-table",{staticClass:"aux-table",attrs:{data:e.settleOrdersList,border:""}},[s("el-table-column",{attrs:{width:"60",align:"center",label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),s("el-table-column",{attrs:{label:"付款单号",prop:"payment_no",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("router-link",{attrs:{to:"/accounting/payment/orders-detail/"+t.row._id}},[s("span",{staticClass:"link-hover"},[e._v(e._s(t.row.payment_no))])])]}}])}),s("el-table-column",{attrs:{label:"付款时间",prop:"payment_date",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.payment_date)))]}}])}),s("el-table-column",{attrs:{label:"付款金额",prop:"payment_money",width:"200",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("cent2yuan")(t.row.payment_money)))]}}])}),s("el-table-column",{attrs:{label:"支付方式",prop:"payment_type",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTypeName")(t.row.payment_type,e.$constant.PAYMENT_TYPES)))]}}])}),s("el-table-column",{attrs:{label:"经办人员",prop:"create_uname",width:"200",align:"center"}}),s("el-table-column",{attrs:{label:"备注",prop:"remark"}})],1)],1)])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"left"},[s("span",{staticClass:"title"},[e._v("待入库")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("div",{staticClass:"left"},[s("span",{staticClass:"title"},[e._v("入库记录")])]),s("div",{staticClass:"right dflex-e"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("div",{staticClass:"left"},[s("span",{staticClass:"title"},[e._v("付款记录")])]),s("div",{staticClass:"right dflex-e"})])}],n=(s("b680"),s("a9e3"),s("d81d"),s("bad2")),r=s("8bbb"),i=s("c3dd"),d=s("2197"),l={components:{OrdersGoodsTableView:n["a"],OrdersStockGoodsTable:r["a"],AuxWarehouseSelect:i["a"]},data:function(){return{permission:"sales-orders-detail",navMenus:[{name:"订单详情",value:"basic"},{name:"入库记录",value:"stock"},{name:"结算付款",value:"settle"}],navActive:"basic",ordersId:"",detail:{supplier_id:"",supplier:{_id:"",name:"",contact:"",telephone:"",address:""},orders_date:(new Date).getTime(),orders_no:"",remark:"",create_uname:"",state:"",orders_goods:[],goodsTotalCount:0,goodsOriginalMoney:0,goodsDiscountMoney:0,goodsTotalMoney:0,ordersDiscountMoney:0,ordersExtendFee:0,ordersTotalMoney:0,settle_state:"",settleMoney:0,unsettleMoney:0},wareHouseList:[],stockChecked:!1,targetWarehouseId:"",stockIntoLoading:!1,stockOrdersList:[],settleOrdersList:[]}},computed:{},mounted:function(){var e=this.$route.params||{},t=e.ordersId;t&&(this.ordersId=t,this.fetchDetail())},methods:{changeTabSelect:function(e){this.navActive=e,"stock"===this.navActive&&this.fetchStockDetail(),"settle"===this.navActive&&this.fetchSettleDetail()},fetchDetail:function(){var e=this;Object(d["a"])("purchase/getOrders",{ordersId:this.ordersId},{functionName:"xunda"}).then((function(t){e.initOrdersData(t.data)}),(function(t){e.$common.closePage()}))},initOrdersData:function(e){var t=this.detail=Object.assign({},e);t.supplier_id=e.supplier_id,t.supplier=e.supplier,t.orders_date=e.orders_date,t.orders_no=e.orders_no,t.orders_remark=e.orders_remark,t.create_remark=e.create_remark,t.create_uname=e.create_uname,t.orders_goods=e.orders_goods,t.ordersTotalMoney=(e.orders_total_money>0?e.orders_total_money/100:0).toFixed(2),t.ordersExtendFee=(e.orders_extend_fee>0?e.orders_extend_fee/100:0).toFixed(2),t.ordersDiscountMoney=(e.orders_discount_money>0?e.orders_discount_money/100:0).toFixed(2),t.settleMoney=(e.settle_money>0?e.settle_money/100:0).toFixed(2),t.unsettleMoney=(Number(t.ordersTotalMoney)-Number(t.settleMoney)).toFixed(2),t.goodsTotalCount=e.goods_total_count||e.orders_goods_count,t.goodsOriginalMoney=e.goods_original_money>0?(e.goods_original_money/100).toFixed(2):t.ordersTotalMoney,t.goodsDiscountMoney=e.goods_discount_money>0?(e.goods_discount_money/100).toFixed(2):0,t.goodsTotalMoney=e.goods_total_money>0?(e.goods_total_money/100).toFixed(2):t.goodsOriginalMoney,t.orders_goods=e.orders_goods.map((function(e){var t=Object.assign({},e);return t.goods_ori_price=((e.goods_ori_price||t.goods_price)/100).toFixed(2),t.total_ori_money=((e.total_ori_money||t.total_money)/100).toFixed(2),t.total_ori_money=((e.total_ori_money||t.total_money)/100).toFixed(2),t.total_money=(e.total_money/100).toFixed(2),t.goods_price=(e.goods_price/100).toFixed(2),t}))},fetchStockDetail:function(){var e=this;if(!(this.stockOrdersList.length>0)){var t=this.detail.stock_ids||[this.detail.rel_stock_id];Object(d["a"])("stock/listStockStream",{stockIds:t},{functionName:"xunda"}).then((function(t){e.stockOrdersList=(t.data||[]).map((function(e){var t=e.orders_goods.map((function(e){var t=Object.assign({},e);return t.total_money=(e.total_money/100).toFixed(2),t.goods_price=(e.goods_price/100).toFixed(2),t}));return e.orders_goods=t,e}))}))}},fetchSettleDetail:function(){var e=this;if(!(this.settleOrdersList.length>0)&&this.detail.settle_orders_ids&&0!=this.detail.settle_orders_ids.length){var t=Object.assign({pageSize:10,pageNo:1},{paymentId:this.detail.settle_orders_ids});Object(d["a"])("settle/listPaymentOrders",t,{functionName:"xunda"}).then((function(t){e.settleOrdersList=t.data||[]}))}},approvedOrders:function(){var e=this;this.$confirm("确定要通过该订单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then((function(){Object(d["a"])("purchase/approvedOrders",{ordersId:e.ordersId},{functionName:"xunda"}).then((function(t){e.fetchDetail(),e.$message({type:"success",message:"操作成功!"})}))}))},deleteOrders:function(){var e=this;this.$confirm("确定要删除该订单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(d["a"])("purchase/deleteOrders",{ordersId:e.ordersId},{functionName:"xunda"}).then((function(t){e.fetchDetail(),e.$message({type:"success",message:"删除成功!"})}))}))},intoStockOrders:function(){var e=this;this.targetWarehouseId?this.$confirm("确定要入库嘛？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then((function(){e.stockIntoLoading=!0,Object(d["a"])("purchase/intoStock",{ordersId:e.ordersId,warehouseId:e.targetWarehouseId},{functionName:"xunda"}).then((function(t){e.fetchDetail(),e.stockIntoLoading=!1,setTimeout((function(){e.fetchStockDetail()}),1e3),e.$message({type:"success",message:"操作成功!"})}),(function(t){e.stockIntoLoading=!1}))})):this.$message.error("请选择商品存放的仓库")},cancelOrders:function(){var e=this;this.$confirm("确定要撤销订单嘛？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then((function(){Object(d["a"])("purchase/cancelOrders",{ordersId:e.ordersId},{functionName:"xunda"}).then((function(t){e.fetchDetail(),e.$message({type:"success",message:"操作成功!"})}))}))},handleIntoStockOrders:function(){this.changeTabSelect("stock"),this.$message("选择存放仓库，再执行入库")},completedOrders:function(e){var t=this;Object(d["a"])("purchase/completeOrders",{ordersId:this.ordersId},{functionName:"xunda"}).then((function(e){t.fetchDetail(),t.$message({type:"success",message:"操作成功!"})}))},handleAddSettle:function(){this.$router.push({path:"/accounting/payment/orders-create",query:{ordersType:"purchase",ordersId:this.ordersId}})}}},c=l,u=s("2877"),_=Object(u["a"])(c,o,a,!1,null,null,null);t["default"]=_.exports},"8bbb":function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],ref:"goodsTable",staticClass:"aux-table no-border",attrs:{data:e.goodsList,border:"",fit:"","show-summary":"","summary-method":e.summaryMethod}},[s("el-table-column",{attrs:{type:"index",width:"60",align:"center",label:"序号"}}),s("el-table-column",{attrs:{width:"260",align:"left",label:"商品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.goods_name))]),t.row.goods_no?s("div",{staticClass:"ft-grey fs-xs"},[e._v("No."+e._s(t.row.goods_no))]):e._e()]}}])}),s("el-table-column",{attrs:{width:"200",align:"center",label:"规格/属性"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.goods_spec))]}}])}),s("el-table-column",{attrs:{width:"120",align:"center",label:"单位"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.goods_unit))]}}])}),s("el-table-column",{attrs:{width:"120",align:"center",label:"出/入库量",prop:"goods_cnt"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.goods_cnt))]}}])}),s("el-table-column",{attrs:{width:"140",align:"right",label:"单价(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.goods_price))]}}])}),s("el-table-column",{attrs:{width:"140",align:"right",label:"金额小计(元)",prop:"total_money"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.total_money))]}}])}),s("el-table-column",{attrs:{align:"left",label:"备注","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.remark))]}}])})],1)],1)},a=[],n=(s("d81d"),s("b0c0"),s("d3b7"),s("159b"),s("caad"),s("a9e3"),s("13d5"),s("b680"),{props:{data:{type:Array,default:function(){return[]}}},data:function(){return{dataLoading:!1,goodsList:[],goodsTotalCount:0,goodsOriginalMoney:0,goodsDiscountMoney:0,goodsTotalMoney:0,goodsUnitPricesMap:{}}},watch:{data:{handler:function(e,t){this.goodsList=e},immediate:!0}},methods:{initGoodsUnitPrices:function(e){this.goodsUnitPricesMap[e._id]=e.unit_prices||[]},initData:function(e){var t=this;this.goodsList=e.map((function(e){return t.initItemGoods(e)}))},initItemGoods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.goods_price||(e.sale_price||e.price||0)/100,o={goods_id:e.goods_id||e._id||"",goods_sku_id:e.goods_id||e.sku_id||"",goods_no:e.goods_no||e.code||"",goods_name:e.goods_name||e.name||"",goods_spec:e.goods_spec||e.spec||"",goods_cnt:e.goods_cnt||t.goods_cnt||0,goods_unit:e.goods_unit||e.unit||"",goods_price:s,total_money:e.total_money||0,remark:e.remark||t.remark||""};return o},summaryMethod:function(e){var t=e.columns,s=e.data,o=[];return t.forEach((function(e,t){if(0!==t)if(["goods_cnt","total_money"].includes(e.property)){var a=s.map((function(t){return Number(t[e.property])}));a.every((function(e){return isNaN(e)}))?o[t]="":(o[t]=a.reduce((function(e,t){return e+t}),0),["total_money"].includes(e.property)&&(o[t]=o[t].toFixed(2)))}else o[t]=" ";else o[t]="合计"})),o}}}),r=n,i=s("2877"),d=Object(i["a"])(r,o,a,!1,null,null,null);t["a"]=d.exports},bad2:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataLoading,expression:"dataLoading"}],ref:"goodsTable",staticClass:"aux-table no-border",attrs:{data:e.goodsList,border:"",fit:"","show-summary":"","summary-method":e.summaryMethod}},[s("el-table-column",{attrs:{type:"index",width:"60",align:"center",label:"序号"}}),s("el-table-column",{attrs:{width:"260",align:"left",label:"商品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.goods_name))]),t.row.goods_no?s("div",{staticClass:"fs-xs ft-grey"},[e._v("No："+e._s(t.row.goods_no))]):e._e()]}}])}),s("el-table-column",{attrs:{width:"200",align:"center",label:"规格/属性"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.goods_spec))]}}])}),s("el-table-column",{attrs:{width:"120",align:"center",label:"单位"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.goods_unit))]}}])}),s("el-table-column",{attrs:{width:"120",align:"center",label:"数量",prop:"goods_cnt"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.goods_cnt))]}}])}),s("el-table-column",{attrs:{width:"140",align:"right",label:"单价(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.goods_price))]}}])}),s("el-table-column",{attrs:{width:"140",align:"right",label:"金额小计(元)",prop:"total_money"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.total_money))]}}])}),s("el-table-column",{attrs:{align:"left",label:"备注","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.remark))]}}])})],1)},a=[],n=(s("d81d"),s("b0c0"),s("d3b7"),s("159b"),s("caad"),s("a9e3"),s("13d5"),s("b680"),{props:{data:{type:Array,default:function(){return[]}}},data:function(){return{dataLoading:!1,goodsList:[],goodsTotalCount:0,goodsOriginalMoney:0,goodsDiscountMoney:0,goodsTotalMoney:0,goodsUnitPricesMap:{}}},watch:{data:{handler:function(e,t){this.initData(e)},immediate:!0}},methods:{initGoodsUnitPrices:function(e){this.goodsUnitPricesMap[e._id]=e.unit_prices||[]},initData:function(e){var t=this;this.goodsList=e.map((function(e){return t.initItemGoods(e)}))},initItemGoods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.goods_price||(e.sale_price||e.price||0)/100,o={goods_id:e.goods_id||e._id||"",goods_sku_id:e.goods_id||e.sku_id||"",goods_no:e.goods_no||e.code||"",goods_name:e.goods_name||e.name||"",goods_spec:e.goods_spec||e.spec||"",goods_cnt:e.goods_cnt||t.goods_cnt||0,goods_unit:e.goods_unit||e.unit||"",goods_ori_price:e.goods_ori_price||s||0,goods_rate:e.goods_rate||"100.00",goods_price:s,total_money:e.total_money||0,remark:e.remark||t.remark||""};return o},summaryMethod:function(e){var t=e.columns,s=e.data,o=[];return t.forEach((function(e,t){if(0!==t)if(["goods_cnt","total_money"].includes(e.property)){var a=s.map((function(t){return Number(t[e.property])}));a.every((function(e){return isNaN(e)}))?o[t]="":(o[t]=a.reduce((function(e,t){return e+t}),0),["total_money"].includes(e.property)&&(o[t]=o[t].toFixed(2)))}else o[t]=" ";else o[t]="合计"})),o}}}),r=n,i=s("2877"),d=Object(i["a"])(r,o,a,!1,null,null,null);t["a"]=d.exports}}]);