(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d6305a0"],{"2bad":function(t,o,e){"use strict";e.r(o);var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("section",{staticClass:"pdf-root",class:t.pagerFormat},[e("section",{staticClass:"container"},[e("section",{staticClass:"pheader"},[e("div",{staticClass:"title"},[t._v(t._s(t.company.name))])]),e("section",{staticClass:"pcontent"},[e("section",{staticClass:"bizbox"},[e("div",{staticClass:"dflex-b"},[e("div",{staticClass:"flex1 dflex-s"},[e("div",[t._v("客户："+t._s(t.bizInfo.name))]),t.bizInfo.contact?e("div",{staticClass:"margin-left"},[t._v(" 联系人："+t._s(t.bizInfo.contact)+" "),t.bizInfo.telephone?e("span",[t._v("- "+t._s(t.bizInfo.telephone))]):t._e()]):t._e()]),e("div",{staticClass:"flex1 tar"},[e("span",[t._v("No."+t._s(t.detail.orders_no))]),e("span",{staticClass:"margin-left-sm"},[t._v("日期："+t._s(t._f("formatDate")(t.detail.orders_date,"YYYY-MM-DD")))])])])]),e("section",{staticClass:"tablebox"},[e("table",{staticClass:"table"},[e("colgroup"),e("thead",[e("tr",[e("td",[t._v("产品名称")]),e("td",[t._v("规格")]),t._l(t.tableSet.sizes,(function(o,s){return e("td",{key:o,attrs:{width:"30"}},[t._v(t._s(o))])})),e("td",{attrs:{width:"40"}},[t._v("数量")]),e("td",{attrs:{width:"60"}},[t._v("单价")]),e("td",{attrs:{width:"70"}},[t._v("金额")])],2)]),e("tbody",[t._l(t.detail.orders_goods,(function(o,s){return e("tr",{key:s},[e("td",[t._v(t._s(o.goods_name))]),e("td",[t._v(t._s(o.goods_spec))]),t._l(t.tableSet.sizes,(function(s,a){return e("td",{key:s},[t._v(t._s(t.getSubText(o,s)))])})),e("td",[t._v(t._s(o.goods_cnt))]),e("td",[t._v(t._s(o.goods_price))]),e("td",[t._v(t._s(o.total_money))])],2)})),e("tr",[e("td",[t._v("合计")]),e("td",{staticClass:"tac",attrs:{colspan:"16"}}),e("td",{staticClass:"tac",attrs:{colspan:"1"}},[t._v(t._s(t.detail.goods_total_count))]),e("td",{staticClass:"tac",attrs:{colspan:"1"}}),e("td",{staticClass:"tac",attrs:{colspan:"1"}},[t._v(t._s(t.detail.orders_total_money))])]),e("tr",[e("td",{staticClass:"tac",attrs:{colspan:"1"}},[t._v("金额合计")]),e("td",{staticClass:"tal",attrs:{colspan:"16"}},[t._v("（大写）"+t._s(t.$common.toBigMoney(t.detail.orders_total_money)))]),e("td",{staticClass:"tal",attrs:{colspan:"4"}},[t._v("（小写）"+t._s(t.detail.orders_total_money))])]),e("tr",[e("td",{staticClass:"tal",attrs:{colspan:"20"}},[t._v("备注："+t._s(t.detail.remark))])])],2)])]),e("section",{staticClass:"dflex-b margin-top-xs"},[e("div",[t._v("制单人："+t._s(t.detail.create_uname))]),e("div",[t._v("发货人(盖章/签字）：")]),e("div",[t._v("收货人(盖章/签字）：")]),e("div")])]),e("section",{staticClass:"pfooter"})])])},a=[],n=e("3835"),r=(e("b680"),e("a9e3"),e("d81d"),e("07ac"),e("13d5"),e("d3b7"),e("e177")),d=e.n(r),_=e("2197"),i=e("2ef0"),c=e.n(i),l={props:{pagerFormat:{type:String,default:"a4"},ordersId:{type:String,default:""}},data:function(){return{tableSet:{sizes:[28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]},header:{title:"销售单"},company:{logoUrl:"",name:"",address:"",telephone:""},bizInfo:{name:"",contact:"",address:"",telephone:""},detail:{orders_no:"",orders_date:(new Date).getTime(),orders_goods:[{}],remark:""}}},mounted:function(){this.fetchDetail()},methods:{fetchDetail:function(){var t=this;Object(_["a"])("orders/getOrdersView",{ordersId:this.ordersId},{functionName:"xunda"}).then((function(o){t.initOrdersData(o.data)}))},initOrdersData:function(t){var o=this,e=this.detail=Object.assign({},t);this.company=t.company,this.bizInfo=t.orders.receiver;var s=t.orders;e.orders_date=d()(s.orders_date).format("YYYY-MM-DD HH:mm:ss"),e.orders_no=s.orders_no,e.remark=s.orders_remark,e.create_uname=s.create_uname,e.goods_total_count=s.goods_total_count||s.orders_goods_count,e.goods_total_money=this.$common.cent2yuan(s.goods_total_money||s.orders_total_money||0),e.goods_discount_money=this.$common.cent2yuan(s.goods_discount_money||0),e.goods_original_money=this.$common.cent2yuan(s.goods_original_money||s.goods_total_money||s.orders_total_money),e.orders_total_money=this.$common.cent2yuan(s.orders_total_money),e.orders_extend_fee=this.$common.cent2yuan(s.orders_extend_fee||0),e.orders_discount_money=this.$common.cent2yuan(s.orders_discount_money||0),e.settle_money=this.$common.cent2yuan(s.settle_money||0),e.unsettle_money=(Number(e.orders_total_money)-Number(e.settle_money)).toFixed(2),e.orders_goods=s.orders_goods.map((function(t){var e=Object.assign({},t);return e.goods_ori_price=o.$common.cent2yuan(t.goods_ori_price||e.goods_price),e.total_ori_money=o.$common.cent2yuan(t.total_ori_money||e.total_money),e.goods_rote=Number(t.goods_rote||100).toFixed(2),e.total_money=o.$common.cent2yuan(t.total_money),e.goods_price=o.$common.cent2yuan(t.goods_price),e}));var a=c.a.groupBy(e.orders_goods,(function(t){return t.goods_id&&t.goods_spec?-1!=t.goods_spec.indexOf("/")?t.goods_id+"_"+t.goods_spec.split("/")[0]:void 0:(new Date).getTime()}));e.orders_goods=Object.values(a).map((function(t){var o=c.a.reduce(t,(function(t,o,e){var s=o.goods_spec.split("/"),a=Object(n["a"])(s,2),r=a[0],d=a[1];return t?(t.goods_cnt+=Number(o.goods_cnt),t.total_money+=Number(o.total_money),t.sizes[d]=o.goods_cnt,t):(o.sizes={},o.goods_spec=r,o.sizes[d]=o.goods_cnt,o.goods_cnt=Number(o.goods_cnt),o.total_money=Number(o.total_money),o)}),null);return o.total_money=Number(o.total_money).toFixed(2),o})),this.$emit("completed")},getSubText:function(t,o){if(t.sizes)return t.sizes[o]}}},m=l,u=(e("9df3"),e("2877")),g=Object(u["a"])(m,s,a,!1,null,"faca86be",null);o["default"]=g.exports},"9df3":function(t,o,e){"use strict";e("c247")},c247:function(t,o,e){}}]);