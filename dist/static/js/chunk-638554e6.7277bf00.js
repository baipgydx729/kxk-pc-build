(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-638554e6"],{"1ce3":function(t,e,o){},"5b46":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"pdf-root",class:t.template},[o("section",{staticClass:"container"},[o("section",{staticClass:"pheader"},[o("div",{staticClass:"title"},[t._v(t._s(t.company.name))])]),o("section",{staticClass:"pcontent"},[o("section",{staticClass:"bizbox"},[o("div",{staticClass:"dflex-b"},[o("div",{staticClass:"flex1 dflex-s"},[o("div",[t._v("客户："+t._s(t.bizInfo.name))]),t.bizInfo.contact?o("div",{staticClass:"margin-left"},[t._v(" 联系人："+t._s(t.bizInfo.contact)+" "),t.bizInfo.telephone?o("span",[t._v("- "+t._s(t.bizInfo.telephone))]):t._e()]):t._e()]),o("div",{staticClass:"flex1 tar"},[o("span",[t._v("No."+t._s(t.detail.orders_no))]),o("span",{staticClass:"margin-left-sm"},[t._v("日期："+t._s(t._f("formatDate")(t.detail.orders_date,"YYYY-MM-DD")))])])])]),o("section",{staticClass:"tablebox"},[o("table",{staticClass:"table"},[o("colgroup"),o("thead",[o("tr",[o("td",[t._v("产品名称")]),o("td",[t._v("规格")]),t._l(t.tableSet.sizes,(function(e,s){return o("td",{key:e,attrs:{width:"30"}},[t._v(t._s(e))])})),o("td",{attrs:{width:"40"}},[t._v("数量")]),o("td",{attrs:{width:"60"}},[t._v("单价")]),o("td",{attrs:{width:"70"}},[t._v("金额")])],2)]),o("tbody",[t._l(t.detail.orders_goods,(function(e,s){return o("tr",{key:s},[o("td",[t._v(t._s(e.goods_name))]),o("td",[t._v(t._s(e.goods_spec))]),t._l(t.tableSet.sizes,(function(s,a){return o("td",{key:s},[t._v(t._s(t.getSubText(e,s)))])})),o("td",[t._v(t._s(e.goods_cnt))]),o("td",[t._v(t._s(e.goods_price))]),o("td",[t._v(t._s(e.total_money))])],2)})),o("tr",[o("td",[t._v("合计")]),o("td",{staticClass:"tac",attrs:{colspan:"16"}}),o("td",{staticClass:"tac",attrs:{colspan:"1"}},[t._v(t._s(t.detail.goods_total_count))]),o("td",{staticClass:"tac",attrs:{colspan:"1"}}),o("td",{staticClass:"tac",attrs:{colspan:"1"}},[t._v(t._s(t.detail.orders_total_money))])]),o("tr",[o("td",{staticClass:"tac",attrs:{colspan:"1"}},[t._v("金额合计")]),o("td",{staticClass:"tal",attrs:{colspan:"16"}},[t._v("（大写）"+t._s(t.$common.toBigMoney(t.detail.orders_total_money)))]),o("td",{staticClass:"tal",attrs:{colspan:"4"}},[t._v("（小写）"+t._s(t.detail.orders_total_money))])]),o("tr",[o("td",{staticClass:"tal",attrs:{colspan:"20"}},[t._v("备注："+t._s(t.detail.remark))])])],2)])]),o("section",{staticClass:"dflex-b margin-top-xs"},[o("div",[t._v("制单人："+t._s(t.detail.create_uname))]),o("div",[t._v("发货人(盖章/签字）：")]),o("div",[t._v("收货人(盖章/签字）：")]),o("div")])]),o("section",{staticClass:"pfooter"})])])},a=[],n=o("3835"),r=o("c7eb"),d=o("1da1"),c=(o("b680"),o("a9e3"),o("d81d"),o("07ac"),o("13d5"),o("d3b7"),o("e177")),i=o.n(c),_=o("2197"),l=o("2ef0"),m=o.n(l),u={props:{template:{type:String,default:"a4"},ordersId:{type:String,default:""}},data:function(){return{tableSet:{sizes:[28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]},header:{title:"销售单"},company:{logoUrl:"",name:"",address:"",telephone:""},bizInfo:{name:"",contact:"",address:"",telephone:""},detail:{orders_no:"",orders_date:(new Date).getTime(),orders_goods:[{}],remark:""}}},methods:{init:function(){var t=this;return Object(d["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchDetail();case 2:case"end":return e.stop()}}),e)})))()},fetchDetail:function(){var t=this;return Object(d["a"])(Object(r["a"])().mark((function e(){var o;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(_["a"])("orders/getOrdersView",{ordersId:t.ordersId},{functionName:"xunda"});case 2:o=e.sent,t.initOrdersData(o.data);case 4:case"end":return e.stop()}}),e)})))()},initOrdersData:function(t){var e=this,o=this.detail=Object.assign({},t);this.company=t.company,this.bizInfo=t.orders.receiver;var s=t.orders;o.orders_date=i()(s.orders_date).format("YYYY-MM-DD HH:mm:ss"),o.orders_no=s.orders_no,o.remark=s.orders_remark,o.create_uname=s.create_uname,o.goods_total_count=s.goods_total_count||s.orders_goods_count,o.goods_total_money=this.$common.cent2yuan(s.goods_total_money||s.orders_total_money||0),o.goods_discount_money=this.$common.cent2yuan(s.goods_discount_money||0),o.goods_original_money=this.$common.cent2yuan(s.goods_original_money||s.goods_total_money||s.orders_total_money),o.orders_total_money=this.$common.cent2yuan(s.orders_total_money),o.orders_extend_fee=this.$common.cent2yuan(s.orders_extend_fee||0),o.orders_discount_money=this.$common.cent2yuan(s.orders_discount_money||0),o.settle_money=this.$common.cent2yuan(s.settle_money||0),o.unsettle_money=(Number(o.orders_total_money)-Number(o.settle_money)).toFixed(2),o.orders_goods=s.orders_goods.map((function(t){var o=Object.assign({},t);return o.goods_ori_price=e.$common.cent2yuan(t.goods_ori_price||o.goods_price),o.total_ori_money=e.$common.cent2yuan(t.total_ori_money||o.total_money),o.goods_rote=Number(t.goods_rote||100).toFixed(2),o.total_money=e.$common.cent2yuan(t.total_money),o.goods_price=e.$common.cent2yuan(t.goods_price),o}));var a=m.a.groupBy(o.orders_goods,(function(t){return t.goods_id&&t.goods_spec?-1!=t.goods_spec.indexOf("/")?t.goods_id+"_"+t.goods_spec.split("/")[0]:void 0:(new Date).getTime()}));o.orders_goods=Object.values(a).map((function(t){var e=m.a.reduce(t,(function(t,e,o){var s=e.goods_spec.split("/"),a=Object(n["a"])(s,2),r=a[0],d=a[1];return t?(t.goods_cnt+=Number(e.goods_cnt),t.total_money+=Number(e.total_money),t.sizes[d]=e.goods_cnt,t):(e.sizes={},e.goods_spec=r,e.sizes[d]=e.goods_cnt,e.goods_cnt=Number(e.goods_cnt),e.total_money=Number(e.total_money),e)}),null);return e.total_money=Number(e.total_money).toFixed(2),e})),this.$emit("completed")},getSubText:function(t,e){if(t.sizes)return t.sizes[e]}}},p=u,g=(o("e5bf"),o("2877")),y=Object(g["a"])(p,s,a,!1,null,"4e9e1f7d",null);e["default"]=y.exports},e5bf:function(t,e,o){"use strict";o("1ce3")}}]);