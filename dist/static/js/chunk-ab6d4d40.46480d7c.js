(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab6d4d40"],{"0428":function(t,a,e){"use strict";e("65bc")},"65bc":function(t,a,e){},c2d4:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"aux-card"},[e("div",{staticClass:"header"},[e("div",{staticClass:"title"},[t._v("库存商品明细")]),e("div",{staticClass:"dflex"},[e("AuxWarehouseSelect",{staticClass:"margin-left-sm",staticStyle:{width:"160px"},attrs:{multi:!1},on:{change:t.fetchDataList},model:{value:t.reqData.warehouseId,callback:function(a){t.$set(t.reqData,"warehouseId",a)},expression:"reqData.warehouseId"}}),e("el-input",{staticClass:"margin-left-sm",staticStyle:{width:"300px"},attrs:{"prefix-icon":"el-icon-search",clearable:"",placeholder:"请输入商品名称/编号/规格属性搜索"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.fetchDataList(a)}},model:{value:t.reqData.keyword,callback:function(a){t.$set(t.reqData,"keyword",a)},expression:"reqData.keyword"}})],1)]),e("div",{staticClass:"container-main"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dataLoading,expression:"dataLoading"}],staticClass:"aux-table",attrs:{data:t.dataList,border:"",fit:"",stripe:""}},[e("el-table-column",{attrs:{type:"selection",width:"55",align:"center",fixed:""}}),e("el-table-column",{attrs:{align:"left",label:"商品名称","min-width":"280",fixed:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"dflex"},[e("el-avatar",{staticStyle:{"min-width":"40px"},attrs:{shape:"square",size:40,fit:"cover",src:a.row.img||"/static/img/img-empty.png"}}),e("div",{staticClass:"padding-left"},[e("div",[t._v(t._s(a.row.name))]),a.row.code?e("div",{staticClass:"ft-grey fs-xs"},[t._v("No："+t._s(a.row.code))]):t._e()])],1)]}}])}),e("el-table-column",{attrs:{align:"center","min-width":"160",label:"规格/属性",prop:"spec"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(" "+t._s(t.formatSpecText(a.row))+" "),a.row.skuInfo&&(a.row.spec_list||[]).length>0?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:a.row.spec_list.map((function(t){return t.name})).join(" / "),placement:"top"}},[e("span",{staticClass:"el-icon-warning-outline"})]):t._e()],1)]}}])}),e("el-table-column",{attrs:{align:"center","min-width":"160",label:"所属仓库",prop:"spec"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.warehouseInfo?e("span",[t._v(t._s(a.row.warehouseInfo.name))]):t._e()]}}])}),e("el-table-column",{attrs:{width:"100",align:"center",label:"单位"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.unit))])]}}])}),e("el-table-column",{attrs:{width:"120",align:"right",label:"实物库存"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.remain_count))])]}}])}),e("el-table-column",{attrs:{width:"120",align:"right",label:"锁定库存"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.holding_count))])]}}])}),e("el-table-column",{attrs:{width:"120",align:"right",label:"可用库存"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.stock_num))])]}}])}),e("el-table-column",{attrs:{width:"120",align:"right",label:"成本价(元)"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t._f("cent2yuan")(a.row.cost_price)))])]}}])}),e("el-table-column",{attrs:{width:"120",align:"right",label:"库存总额(元)"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t._f("cent2yuan")(a.row.cost_amount)))])]}}])}),e("el-table-column",{attrs:{width:"120",align:"right",label:"预计销售(元)"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t._f("cent2yuan")(a.row.sales_amount)))])]}}])}),e("el-table-column",{attrs:{width:"120",align:"right",label:"预计利润(元)"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t._f("cent2yuan")(a.row.profit_amount)))])]}}])}),e("el-table-column",{attrs:{width:"120",align:"right",label:"利润率"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.profit_rate+"%"))])]}}])})],1)],1),e("div",{staticClass:"padding-sm dflex-c"},[e("el-pagination",{attrs:{background:"","page-size":t.pagination.pageSize,total:t.pagination.totalCount,"current-page":t.pagination.pageNo,"page-sizes":[15,20,50],layout:"total, sizes, prev, pager, next, jumper","hide-on-single-page":""},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1)])])},i=[],s=(e("b0c0"),e("2197")),o=e("c3dd"),l={components:{AuxWarehouseSelect:o["a"]},filters:{formatStateText:function(t){return 2===t?"停用":"正常"}},data:function(){return{permission:"stock-query",showMoreFilter:!1,cateParentId:"",categoryList:[],dataLoading:!1,dataList:[],pagination:{totalCount:1,pageSize:12,pageNo:1},reqData:{cid:"",keyword:"",warehouseId:""}}},mounted:function(){this.fetchDataList()},methods:{fetchDataList:function(){var t=this;this.dataLoading=!0;var a=Object.assign({},this.getReqData(),this.pagination);Object(s["a"])("stock/listGoodsSkuData",a,{functionName:"xunda"}).then((function(a){t.dataList=a.data||[],1==t.pagination.pageNo&&(t.pagination.totalCount=a.totalCount),t.dataLoading=!1}))},formatSpecText:function(t){return t.skuInfo?t.skuInfo.name:t.spec||""},getReqData:function(){var t=Object.assign({},this.reqData);return t},handleSearch:function(t){this.fetchDataList()},changePageNo:function(t){this.pagination.pageNo=t,this.fetchDataList()},changePageSize:function(t){this.pagination.pageNo=1,this.pagination.pageSize=t,this.fetchDataList()},changeCategory:function(t){this.reqData.cid=t?t._id:"",this.pagination.pageNo=1,this.fetchDataList()}}},r=l,c=(e("0428"),e("2877")),u=Object(c["a"])(r,n,i,!1,null,null,null);a["default"]=u.exports}}]);