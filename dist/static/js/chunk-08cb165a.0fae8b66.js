(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08cb165a"],{"088a":function(t,a,e){},"4f47":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"aux-card"},[t._m(0),e("div",{staticClass:"filter-container margin-top-sm"},[e("el-form",{ref:"baseForm",attrs:{"label-width":"100px","label-align":"right"}},[e("div",{staticClass:"dflex-b padding-lr"},[e("div",{staticClass:"dflex-s flex1"},[e("el-select",{staticStyle:{width:"120px"},attrs:{clear:!1},model:{value:t.reqData.direction,callback:function(a){t.$set(t.reqData,"direction",a)},expression:"reqData.direction"}},t._l(t.filterStates,(function(t){return e("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1),e("el-date-picker",{staticClass:"margin-left-sm",staticStyle:{width:"300px"},attrs:{type:"daterange","range-separator":" - ","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.reqData.dateRange,callback:function(a){t.$set(t.reqData,"dateRange",a)},expression:"reqData.dateRange"}}),e("el-input",{staticClass:"margin-left-sm",staticStyle:{width:"300px"},attrs:{placeholder:"请输入单号搜索"},on:{confirm:t.fetchDataList},model:{value:t.reqData.ordersNo,callback:function(a){t.$set(t.reqData,"ordersNo",a)},expression:"reqData.ordersNo"}}),e("el-button",{staticClass:"margin-left-sm",attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("查 询")])],1),e("div",{staticStyle:{"text-align":"right"}})])])],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dataLoading,expression:"dataLoading"}],staticClass:"aux-table",attrs:{data:t.dataList,border:"",fit:"",stripe:""}},[e("el-table-column",{attrs:{type:"selection",width:"55",align:"center",fixed:""}}),e("el-table-column",{attrs:{width:"200",align:"left",label:"库存单号"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("router-link",{attrs:{to:"stock-orders-detail/"+a.row._id}},[e("span",{staticClass:"link-hover"},[t._v(t._s(a.row.opt_no))])])]}}])}),e("el-table-column",{attrs:{width:"180",align:"left",label:"开单时间"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t._f("formatDate")(a.row.opt_time)))]}}])}),e("el-table-column",{attrs:{width:"180",align:"center",label:"变动类型"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("formatTypeName")(a.row.opt_type,t.$constant.STOCK_OPT_TYPES))+" "),a.row.rel_extend?e("div",{staticClass:"fs-xs ft-grey"},[e("i",{staticClass:"el-icon-location"}),t._v(" "+t._s(a.row.rel_extend.name)+" ")]):t._e()]}}])}),e("el-table-column",{attrs:{width:"180",align:"center",label:"所属仓库"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.warehouse_name))]}}])}),e("el-table-column",{attrs:{width:"160",align:"center",label:"变更商品"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("x"+t._s(a.row.orders_goods.length))]}}])}),e("el-table-column",{attrs:{width:"160",align:"right",label:"商品金额"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t._f("cent2yuan")(a.row.total_price)))]}}])}),e("el-table-column",{attrs:{width:"160",align:"center",label:"经办人"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.create_uname))]}}])}),e("el-table-column",{attrs:{align:"left",label:"备注","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.remark))]}}])}),e("el-table-column",{attrs:{width:"120",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$common.toPage("./stock-orders-detail/"+a.row._id)}}},[t._v("详情")])]}}])})],1),e("div",{staticClass:"padding-sm dflex-c"},[e("el-pagination",{attrs:{background:"","page-size":t.pagination.pageSize,total:t.pagination.totalCount,"current-page":t.pagination.pageNo,"page-sizes":[15,20,50],layout:"total, sizes, prev, pager, next, jumper","hide-on-single-page":""},on:{"size-change":t.changePageSize,"current-change":t.changePageNo}})],1)],1)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("span",{staticClass:"title"},[t._v("库存变动")])]),e("div",{staticClass:"right"})])}],l=e("e177"),s=e.n(l),o=e("2197"),r={components:{},data:function(){return{permission:"stock-stream",filterStates:[{name:"全 部",value:""},{name:"入库单",value:1},{name:"出库单",value:-1}],settleState:[{name:"未付款",value:0},{name:"部分付款",value:1},{name:"已付款",value:9}],dataLoading:!1,dataList:[],pagination:{totalCount:1,pageSize:12,pageNo:1},reqData:{direction:"",pageNo:1,pageSize:8,orderBy:"opt_time",sord:"desc"}}},mounted:function(){this.fetchDataList()},methods:{fetchDataList:function(){var t=this;this.dataLoading=!0;var a=Object.assign({needDetail:!1,isPaging:!0},this.getReqData(),this.pagination);Object(o["a"])("stock/listStockStream",a,{functionName:"xunda"}).then((function(a){t.dataList=a.data||[],1===t.pagination.pageNo&&(t.pagination.totalCount=a.totalCount),t.dataLoading=!1}))},getReqData:function(){var t=Object.assign({},this.reqData),a=this.reqData.dateRange||[];return a.length>0&&(t.startDay=s()(a[0]).valueOf(),t.endDay=s()(a[1]).valueOf()),t},handleSearch:function(t){this.fetchDataList()},handleTabSelect:function(t){this.reqData.state=t,this.pagination.pageNo=1,this.fetchDataList()},changePageNo:function(t){this.pagination.pageNo=t,this.fetchDataList()},changePageSize:function(t){this.pagination.pageNo=1,this.pagination.pageSize=t,this.fetchDataList()}}},c=r,d=(e("a377"),e("2877")),u=Object(d["a"])(c,n,i,!1,null,null,null);a["default"]=u.exports},a377:function(t,a,e){"use strict";e("088a")}}]);