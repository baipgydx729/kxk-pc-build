(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f30d3b1"],{3066:function(t,e,a){"use strict";a("ec31")},"45c9":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"min-container"},[a("el-form",{ref:"elForm",attrs:{model:t.formData,rules:t.rules,"label-width":"110px"}},[a("div",{staticClass:"aux-card"},[a("div",{staticClass:"header"},[a("div",{staticClass:"left"},[a("span",{staticClass:"title"},[t._v("基本信息")])]),a("div",{staticClass:"right"},[a("el-button",{on:{click:t.resetForm}},[t._v("重置")]),a("el-button",{attrs:{loading:t.submitLoading,type:"primary",icon:"el-icon-save"},on:{click:t.submitForm}},[t._v("保存信息")])],1)]),a("div",{staticClass:"padding"},[a("el-row",[a("el-form-item",{attrs:{label:"公司名称",prop:"name"}},[a("el-input",{staticStyle:{width:"360px"},attrs:{placeholder:"填写完整的公司或商户名称",maxlength:"64",clearable:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"所属行业",prop:"trade"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择所属行业",clearable:""},model:{value:t.formData.trade,callback:function(e){t.$set(t.formData,"trade",e)},expression:"formData.trade"}},t._l(t.$constant.INDUSTRY_TYPES,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"联系人",prop:"contact"}},[a("el-input",{staticStyle:{width:"360px"},attrs:{placeholder:"填写主体负责人名称",clearable:""},model:{value:t.formData.contact,callback:function(e){t.$set(t.formData,"contact",e)},expression:"formData.contact"}})],1),a("el-form-item",{attrs:{label:"联系电话",prop:"telephone"}},[a("el-input",{staticStyle:{width:"360px"},attrs:{placeholder:"请填写主体联系方式",clearable:""},model:{value:t.formData.telephone,callback:function(e){t.$set(t.formData,"telephone",e)},expression:"formData.telephone"}})],1),a("el-form-item",{attrs:{label:"联系地址",prop:"address"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请填写",maxlength:"300",clearable:""},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1)],1)],1)]),a("div",{staticClass:"aux-card margin-top"},[a("div",{staticClass:"header"},[a("div",{staticClass:"left"},[a("span",{staticClass:"title"},[t._v("账户信息")])])]),a("div",{staticClass:"padding"},[a("el-row",[a("el-form-item",{attrs:{label:"企业代码"}},[a("el-input",{staticStyle:{width:"360px"},attrs:{value:t.formData._id,disabled:""}})],1),a("el-form-item",{attrs:{label:"管理员姓名",prop:"admin_name"}},[a("el-input",{staticStyle:{width:"360px"},attrs:{placeholder:"请填写管理员姓名"},model:{value:t.formData.admin_name,callback:function(e){t.$set(t.formData,"admin_name",e)},expression:"formData.admin_name"}})],1),a("el-form-item",{attrs:{label:"系统版本",prop:"vers_name"}},[a("el-input",{staticStyle:{width:"360px"},attrs:{disabled:""},model:{value:t.formData.vers_name,callback:function(e){t.$set(t.formData,"vers_name",e)},expression:"formData.vers_name"}})],1),a("el-form-item",{attrs:{label:"授权用户数",prop:"allow_emp_count"}},[a("el-input",{staticStyle:{width:"360px"},attrs:{disabled:""},model:{value:t.formData.allow_emp_count,callback:function(e){t.$set(t.formData,"allow_emp_count",e)},expression:"formData.allow_emp_count"}})],1),a("el-form-item",{attrs:{label:"注册日期",prop:"create_time"}},[a("el-input",{staticStyle:{width:"360px"},attrs:{disabled:""},model:{value:t.formData.create_time,callback:function(e){t.$set(t.formData,"create_time",e)},expression:"formData.create_time"}})],1),a("el-form-item",{attrs:{label:"到期日期",prop:"end_time"}},[a("el-input",{staticStyle:{width:"360px"},attrs:{disabled:""},model:{value:t.formData.end_time,callback:function(e){t.$set(t.formData,"end_time",e)},expression:"formData.end_time"}})],1)],1),a("el-row")],1)])])],1)},r=[],s=a("2197"),o={components:{},data(){return{submitLoading:!1,formData:{_id:"",name:"",contact:"",telephone:"",address:"",create_time:"",logoUrl:"",trade:10,admin_name:"",allow_emp_count:"",end_time:"",vers_code:"",vers_name:""},rules:{name:[{required:!0,message:"请填写完整的公司或商户名称",trigger:"blur"},{min:2,max:32,message:"长度在 3 到 64 个字符",trigger:"blur"}],trade:[{required:!0,message:"请选择所属行业",trigger:"blur"}],admin_name:[{required:!0,message:"请填写管理员姓名",trigger:"blur"}]}}},mounted(){this.fetchData()},methods:{fetchData(){Object(s["a"])("company/getCompany",{},{functionName:"xunda"}).then(t=>{const e=t.data;e.create_time=this.$common.format(e.create_time),e.end_time=this.$common.format(e.end_time),this.formData=e})},resetForm(){this.$refs["elForm"].resetFields()},submitForm(){const t=this;this.$refs["elForm"].validate(e=>{e&&(t.submitLoading=!0,Object(s["a"])("company/saveCompany",this.getPostData(),{functionName:"xunda"}).then(e=>{t.submitLoading=!1,this.$message.success("保存成功"),setTimeout(()=>t.fetchData(),300)},e=>{t.submitLoading=!1}))})},getPostData(){return{_id:this.formData._id,name:this.formData.name,contact:this.formData.contact,telephone:this.formData.telephone,address:this.formData.address,admin_name:this.formData.admin_name}}}},i=o,m=(a("3066"),a("2877")),n=Object(m["a"])(i,l,r,!1,null,"7c648aba",null);e["default"]=n.exports},ec31:function(t,e,a){}}]);